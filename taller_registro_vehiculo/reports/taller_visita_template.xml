<odoo>
  <template id="report_visita_document">
    <t t-call="web.html_container">
      <t t-call="web.external_layout">
        <div class="page">
          <h2>Constancia de Servicio del Taller</h2>
          <p><strong>Cliente:</strong> <t t-esc="doc.partner_id.name"/></p>
          <p><strong>Veh√≠culo:</strong> <t t-esc="doc.marca"/> <t t-esc="doc.modelo"/> - <t t-esc="doc.patente"/></p>
          <p><strong>Fecha de entrada:</strong> <t t-esc="doc.fecha"/></p>
          <p><strong>Fecha de salida:</strong> <t t-esc="doc.fecha_salida"/></p>
          <p><strong>Trabajo realizado:</strong> <t t-esc="dict(doc._fields['tipo_trabajo'].selection).get(doc.tipo_trabajo)"/></p>
          <p><strong>Notas:</strong> <t t-esc="doc.notas"/></p>

          <h4>Piezas utilizadas:</h4>
          <ul>
            <t t-foreach="doc.piezas_usadas" t-as="pieza">
              <li><t t-esc="pieza.marca"/> - <t t-esc="pieza.codigo_pieza"/> - <t t-esc="pieza.descripcion"/></li>
            </t>
          </ul>
        </div>
      </t>
    </t>
  </template>
</odoo>
